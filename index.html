<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1285, height=64">
    <title>Crypto Price Ticker</title>
    <style>
        @font-face {
            font-family: 'Silka';
            src: url('silka-medium.woff') format('woff');
            font-weight: 500;
            font-style: normal;
        }
        
        @font-face {
            font-family: 'Silka';
            src: url('silka-regular.woff') format('woff');
            font-weight: 400;
            font-style: normal;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            width: 1920px;
            height: 1080px;
            overflow: hidden;
            background: transparent;
            font-family: 'Silka', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        .ticker-container {
            position: absolute;
            right: 0;
            top: 0;
            width: 1285px;
            height: 64px;
            background: #152B2B;
            overflow: hidden;
            display: flex;
            align-items: center;
        }

        .ticker-wrapper {
            display: flex;
            align-items: center;
            animation: scroll 270s linear infinite;
            will-change: transform;
            transform: translateX(0);
        }

        @keyframes scroll {
            0% {
                transform: translate3d(0, 0, 0);
            }
            100% {
                transform: translate3d(-50%, 0, 0);
            }
        }

        .ticker-content {
            display: flex;
            align-items: center;
            white-space: nowrap;
            padding-left: 20px;
            padding-right: 40px;
        }

        .ticker-item {
            display: flex;
            align-items: center;
            margin-right: 40px;
        }

        .crypto-logo {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            margin-right: 12px;
            object-fit: cover;
        }

        .crypto-symbol {
            font-family: 'Silka', sans-serif;
            font-weight: 500;
            font-size: 16px;
            line-height: 100%;
            letter-spacing: 0.05em;
            color: #FFFFFF;
            margin-right: 12px;
        }

        .price-box {
            background: #1F3D3D;
            border-radius: 10px;
            padding: 6px 8px;
            margin-right: 12px;
        }

        .price {
            font-family: 'Silka', sans-serif;
            font-weight: 400;
            font-size: 16px;
            line-height: 100%;
            letter-spacing: 0.05em;
            color: #FFFFFF;
        }

        .percentage-box {
            border-radius: 10px;
            padding: 6px 8px;
        }

        .percentage-box.positive {
            background: #20513C;
        }

        .percentage-box.negative {
            background: rgba(230, 100, 36, 0.29);
        }

        .percentage {
            font-family: 'Silka', sans-serif;
            font-weight: 400;
            font-size: 16px;
            line-height: 100%;
            letter-spacing: 0.05em;
        }

        .percentage.positive {
            color: #3EDF84;
        }

        .percentage.negative {
            color: #DD7900;
        }
    </style>
</head>
<body>
    <div class="ticker-container">
        <div class="ticker-wrapper">
            <div class="ticker-content" id="tickerContent"></div>
            <div class="ticker-content" id="tickerContentDuplicate"></div>
        </div>
    </div>

    <script>
        const cryptos = [
            { id: 'bitcoin', symbol: 'BTC', logo: 'https://assets.coingecko.com/coins/images/1/small/bitcoin.png' },
            { id: 'ethereum', symbol: 'ETH', logo: 'https://assets.coingecko.com/coins/images/279/small/ethereum.png' },
            { id: 'binancecoin', symbol: 'BNB', logo: 'https://assets.coingecko.com/coins/images/825/small/bnb-icon2_2x.png' },
            { id: 'solana', symbol: 'SOL', logo: 'https://assets.coingecko.com/coins/images/4128/small/solana.png' },
            { id: 'ripple', symbol: 'XRP', logo: 'https://assets.coingecko.com/coins/images/44/small/xrp-symbol-white-128.png' },
            { id: 'cardano', symbol: 'ADA', logo: 'https://assets.coingecko.com/coins/images/975/small/cardano.png' },
            { id: 'avalanche-2', symbol: 'AVAX', logo: 'https://assets.coingecko.com/coins/images/12559/small/coin-round-red.png' },
            { id: 'dogecoin', symbol: 'DOGE', logo: 'https://assets.coingecko.com/coins/images/5/small/dogecoin.png' },
            { id: 'chainlink', symbol: 'LINK', logo: 'https://assets.coingecko.com/coins/images/877/small/chainlink-new-logo.png' },
            { id: 'the-open-network', symbol: 'TON', logo: 'https://assets.coingecko.com/coins/images/17980/small/ton_symbol.png' },
            { id: 'shiba-inu', symbol: 'SHIB', logo: 'https://assets.coingecko.com/coins/images/11939/small/shiba.png' },
            { id: 'matic-network', symbol: 'MATIC', logo: 'https://assets.coingecko.com/coins/images/4713/small/matic-token-icon.png' },
            { id: 'litecoin', symbol: 'LTC', logo: 'https://assets.coingecko.com/coins/images/2/small/litecoin.png' },
            { id: 'bitcoin-cash', symbol: 'BCH', logo: 'https://assets.coingecko.com/coins/images/780/small/bitcoin-cash-circle.png' },
            { id: 'near', symbol: 'NEAR', logo: 'https://assets.coingecko.com/coins/images/10365/small/near.jpg' },
            { id: 'uniswap', symbol: 'UNI', logo: 'https://assets.coingecko.com/coins/images/12504/small/uniswap.jpg' },
            { id: 'internet-computer', symbol: 'ICP', logo: 'https://assets.coingecko.com/coins/images/14495/small/Internet_Computer_logo.png' },
            { id: 'ethereum-classic', symbol: 'ETC', logo: 'https://assets.coingecko.com/coins/images/453/small/ethereum-classic-logo.png' },
            { id: 'render-token', symbol: 'RENDER', logo: 'https://assets.coingecko.com/coins/images/11636/small/render-logo.png' },
            { id: 'hedera-hashgraph', symbol: 'HBAR', logo: 'https://assets.coingecko.com/coins/images/3688/small/hbar.png' }
        ];

        // Demo data for immediate display
        const demoData = {
            bitcoin: { price: 67542.00, change: 2.45 },
            ethereum: { price: 3487.23, change: -1.23 },
            binancecoin: { price: 598.45, change: 3.67 },
            solana: { price: 142.78, change: 5.89 },
            ripple: { price: 0.5234, change: -0.45 },
            cardano: { price: 0.4567, change: 1.23 },
            'avalanche-2': { price: 35.67, change: -2.34 },
            dogecoin: { price: 0.1234, change: 8.92 },
            chainlink: { price: 14.56, change: 2.11 },
            'the-open-network': { price: 5.43, change: -1.45 },
            'shiba-inu': { price: 0.00002345, change: 4.56 },
            'matic-network': { price: 0.8765, change: 3.21 },
            litecoin: { price: 72.34, change: -0.89 },
            'bitcoin-cash': { price: 234.56, change: 1.78 },
            near: { price: 5.67, change: -3.45 },
            uniswap: { price: 9.87, change: 2.34 },
            'internet-computer': { price: 12.34, change: 0.67 },
            'ethereum-classic': { price: 28.90, change: -1.23 },
            'render-token': { price: 7.65, change: 4.32 },
            'hedera-hashgraph': { price: 0.0765, change: 1.45 }
        };

        let currentData = { ...demoData };

        function formatPrice(price) {
            if (price < 0.01) {
                return '$' + price.toFixed(8);
            } else if (price < 1) {
                return '$' + price.toFixed(4);
            } else {
                return '$' + price.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
            }
        }

        function formatPercentage(change) {
            const sign = change >= 0 ? '+' : '';
            return sign + change.toFixed(2) + '%';
        }

        function createTickerItem(crypto) {
            const data = currentData[crypto.id] || { price: 0, change: 0 };
            const isPositive = data.change >= 0;
            
            return `
                <div class="ticker-item">
                    <img class="crypto-logo" src="${crypto.logo}" alt="${crypto.symbol}" onerror="this.style.display='none'">
                    <span class="crypto-symbol">${crypto.symbol}</span>
                    <div class="price-box">
                        <span class="price">${formatPrice(data.price)}</span>
                    </div>
                    <div class="percentage-box ${isPositive ? 'positive' : 'negative'}">
                        <span class="percentage ${isPositive ? 'positive' : 'negative'}">${formatPercentage(data.change)}</span>
                    </div>
                </div>
            `;
        }

        function updateTicker() {
            const tickerHTML = cryptos.map(crypto => createTickerItem(crypto)).join('');
            document.getElementById('tickerContent').innerHTML = tickerHTML;
            document.getElementById('tickerContentDuplicate').innerHTML = tickerHTML;
        }

        async function fetchPrices() {
            // CoinGecko API often has CORS issues in browser environments
            // Using demo data for reliable display
            // Uncomment below to attempt live data fetch
            
            /*
            const ids = cryptos.map(c => c.id).join(',');
            
            try {
                // Try using a CORS proxy
                const proxyUrl = 'https://corsproxy.io/?' + encodeURIComponent(`https://api.coingecko.com/api/v3/simple/price?ids=${ids}&vs_currencies=usd&include_24hr_change=true`);
                
                const response = await fetch(proxyUrl, {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    
                    // Update current data with API response
                    for (const crypto of cryptos) {
                        if (data[crypto.id]) {
                            currentData[crypto.id] = {
                                price: data[crypto.id].usd || currentData[crypto.id].price,
                                change: data[crypto.id].usd_24h_change || currentData[crypto.id].change
                            };
                        }
                    }
                    
                    updateTicker();
                    console.log('Prices updated successfully');
                } else {
                    console.log('API response not OK, using demo data');
                }
            } catch (error) {
                console.log('Using demo data - API unavailable:', error.message);
            }
            */
            
            // For demo purposes, randomly adjust prices slightly
            for (const crypto of cryptos) {
                if (currentData[crypto.id]) {
                    const variation = (Math.random() - 0.5) * 0.02; // ±1% variation
                    currentData[crypto.id].price *= (1 + variation);
                    currentData[crypto.id].change += (Math.random() - 0.5) * 0.5; // ±0.25% change variation
                }
            }
            updateTicker();
        }

        // Initial render with demo data (immediate display)
        updateTicker();

        // Simulate live updates with slight variations every 60 seconds
        setInterval(fetchPrices, 60000);
    </script>
</body>
</html>
